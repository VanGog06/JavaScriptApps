{"version":3,"sources":["../../../03. DollarFootbal/scripts/script.js"],"names":["url","headers","myBets","$","on","table","head","append","forEach","elem","row","homeTeam","awayTeam","time","betType","betRatio","betValue","estimatedWin","empty","ajax","method","success","sort","elem1","elem2","time1","split","format1","time2","format2","hour1","Number","minutes1","hour2","minutes2","result","localeCompare","id","home","away","ratio","hasBet","myBet","ev","currentId","parent","attr","replace","value","val","text","toString","toLowerCase","bet","toFixed","push","click","error","console","log"],"mappings":"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","file":"script.js","sourcesContent":["let url = \"https://baas.kinvey.com/appdata/kid_BJe588Szx/football-matches\";\r\nlet headers = {\r\n    \"Authorization\": \"Basic Z3Vlc3Q6Z3Vlc3Q=\",\r\n    \"Content-Type\": \"application/json\"\r\n};\r\n\r\nlet myBets = [];\r\n\r\n(function () {\r\n    $('#bets').on('click', function () {\r\n        let table = $('<table>');\r\n        let head = $('<tr>');\r\n        head\r\n            .append('<th>Home Team</th>')\r\n            .append('<th>Away Team</th>')\r\n            .append('<th>Start</th>')\r\n            .append('<th>Bet On</th>')\r\n            .append('<th>Ratio</th>')\r\n            .append('<th>Value</th>')\r\n            .append('<th>Estimated Winnings</th>');\r\n\r\n        table.append(head);\r\n\r\n        myBets.forEach(function (elem) {\r\n            let row = $('<tr>');\r\n            row\r\n                .append('<td>' + elem.homeTeam + '</td>')\r\n                .append('<td>' + elem.awayTeam + '</td>')\r\n                .append('<td>' + elem.time + '</td>')\r\n                .append('<td>' + elem.betType + '</td>')\r\n                .append('<td>' + elem.betRatio + '</td>')\r\n                .append('<td>' + elem.betValue + '</td>')\r\n                .append('<td>' + elem.estimatedWin + '</td>');\r\n            table.append(row);\r\n        });\r\n\r\n        $('.content-holder').empty();\r\n        $('.content-holder').append(table);\r\n    });\r\n\r\n    $('#matches').on('click', function () {\r\n        $.ajax({\r\n            method: 'GET',\r\n            url: url,\r\n            headers: headers,\r\n            success: function (success) {\r\n                let table = $('<table>');\r\n                let head = $('<tr>');\r\n                head\r\n                    .append('<th>Id</th>')\r\n                    .append('<th>Home Team</th>')\r\n                    .append('<th>Away Team</th>')\r\n                    .append('<th>Start</th>')\r\n                    .append('<th>Win</th>')\r\n                    .append('<th>Draw</th>')\r\n                    .append('<th>Lose</th>')\r\n                    .append('<th>Bet</th>')\r\n                    .append('<th>Bet On</th>')\r\n                    .append('<th>Submit</th>');\r\n                table.append(head);\r\n                success = success.sort(function (elem1, elem2) {\r\n                    let time1 = elem1.time.split(\" \")[0];\r\n                    let format1 = elem1.time.split(\" \")[1];\r\n\r\n                    let time2 = elem2.time.split(\" \")[0];\r\n                    let format2 = elem2.time.split(\" \")[1];\r\n\r\n                    let hour1 = Number(time1.split(\":\")[0]);\r\n                    let minutes1 = Number(time1.split(\":\")[1]);\r\n\r\n                    let hour2 = Number(time2.split(\":\")[0]);\r\n                    let minutes2 = Number(time2.split(\":\")[1]);\r\n\r\n                    let result = format1.localeCompare(format2);\r\n\r\n                    if (result == 0) {\r\n                        result = hour1 - hour2;\r\n                    }\r\n\r\n                    if (result == 0) {\r\n                        result = minutes1 - minutes2;\r\n                    }\r\n\r\n                    return result;\r\n                });\r\n                success.forEach(function (elem) {\r\n                    let row = $('<tr>');\r\n                    row\r\n                        .append('<td id=\"match-' + elem.id + '\">' + elem.id + '</td>')\r\n                        .append('<td id=\"match-' + elem.id + '-home\">' + elem.home + '</td>')\r\n                        .append('<td id=\"match-' + elem.id + '-away\">' + elem.away + '</td>')\r\n                        .append('<td id=\"match-' + elem.id + '-time\">' + elem.time + '</td>')\r\n                        .append('<td id=\"match-' + elem.id + '-win\">' + elem.ratio[\"1\"] + '</td>')\r\n                        .append('<td id=\"match-' + elem.id + '-draw\">' + elem.ratio[\"x\"] + '</td>')\r\n                        .append('<td id=\"match-' + elem.id + '-lose\">' + elem.ratio[\"2\"] + '</td>');\r\n\r\n                    let hasBet = false;\r\n\r\n                    myBets.forEach(function (myBet) {\r\n                        if (myBet.id == elem.id) {\r\n                            hasBet = true;\r\n                        }\r\n                    });\r\n\r\n                    if (!hasBet) {\r\n                        row\r\n                            .append('<td id=\"match-' + elem.id + '-bet\"><input type=\"number\" min=\"1\" max=\"1000000\" /></td>')\r\n                            .append('<td id=\"match-' + elem.id + '-bet-type\">' +\r\n                                '<select>' +\r\n                                '   <option>Win</option>' +\r\n                                '   <option>Draw</option>' +\r\n                                '   <option>Lose</option>' +\r\n                                    '</select>' +\r\n                                '</td>')\r\n                            .append('<td id=\"match-' + elem.id + '-button\"><button>Bet</button></td>');\r\n                    } else {\r\n                        row\r\n                            .append('<td id=\"match-' + elem.id + '-bet\"><input type=\"number\" min=\"1\" max=\"1000000\" disabled/></td>')\r\n                            .append('<td id=\"match-' + elem.id + '-bet-type\"><select disabled></select></td>')\r\n                            .append('<td id=\"match-' + elem.id + '-button\"><button disabled>Bet</button></td>');\r\n                    }\r\n\r\n                    table.append(row);\r\n                });\r\n\r\n                $('.content-holder').empty();\r\n                $('.content-holder').append(table);\r\n\r\n                $('.content-holder table tr td button').on('click', function (ev) {\r\n                    let currentId = Number($(this).parent().attr('id').replace('match-', '').replace('-button', ''));\r\n                    let value = Number($('#match-' + currentId + '-bet input').val());\r\n                    let betType = $('#match-' + currentId + '-bet-type select option:selected').text().toString().toLowerCase();\r\n\r\n                    let ratio = Number($('#match-' + currentId + '-' + betType).text());\r\n\r\n                    let homeTeam = $('#match-' + currentId + '-home').text();\r\n                    let awayTeam = $('#match-' + currentId + '-away').text();\r\n                    let time = $('#match-' + currentId + '-time').text();\r\n\r\n                    let bet = {\r\n                        id: currentId,\r\n                        homeTeam: homeTeam,\r\n                        awayTeam: awayTeam,\r\n                        time: time,\r\n                        betType: betType,\r\n                        betRatio: ratio,\r\n                        betValue: value,\r\n                        estimatedWin: (ratio * value).toFixed(2)\r\n                    };\r\n\r\n                    myBets.push(bet);\r\n\r\n                    $('#matches').click();\r\n                });\r\n            },\r\n            error: function (error) {\r\n                console.log(error);\r\n            }\r\n        });\r\n    });\r\n}());"]}
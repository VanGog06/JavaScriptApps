{"version":3,"sources":["../../../03. DollarFootbal/scripts/script_reactjs.js"],"names":["solve","url","headers","myBets","AppView","React","Component","render","HeaderView","ButtonHolder","showBets","showMatches","ReactDOM","$","ajax","method","success","sort","elem1","elem2","time1","time","split","format1","time2","format2","hour1","Number","minutes1","hour2","minutes2","result","localeCompare","error","console","log","BetsView","props","bets","forEach","bet","index","homeTeam","awayTeam","betType","betRatio","betValue","estimatedWin","MatchesView","constructor","handleBet","bind","_that","matches","map","match","hasBet","myBet","id","home","away","ratio","event","currentId","target","parent","attr","replace","value","val","text","toString","toLowerCase","toFixed","push","myMatches","ContentHolder","components"],"mappings":"AAAA,SAASA,KAAT,GAAiB;AACb,QAAIC,MAAM,gEAAV;AACA,QAAIC,UAAU;AACV,yBAAiB,wBADP;AAEV,wBAAgB;AAFN,KAAd;;AAKA,QAAIC,SAAS,EAAb;;AAEA,UAAMC,OAAN,SAAsBC,MAAMC,SAA5B,CAAsC;AAClCC,iBAAS;AACL,mBACI;AAAA;AAAA,kBAAK,WAAU,SAAf;AACI,oCAAC,UAAD,OADJ;AAEI,oCAAC,YAAD,OAFJ;AAGI,oCAAC,aAAD;AAHJ,aADJ;AAOH;AATiC;;AAYtC,UAAMC,UAAN,SAAyBH,MAAMC,SAA/B,CAAyC;AACrCC,iBAAS;AACL,mBACI;AAAA;AAAA;AACI;AAAA;AAAA;AAAA;AAAA;AADJ,aADJ;AAKH;AAPoC;;AAUzC,UAAME,YAAN,SAA2BJ,MAAMC,SAAjC,CAA2C;AACvCC,iBAAS;AACL,mBACI;AAAA;AAAA,kBAAK,WAAU,eAAf;AACI;AAAA;AAAA,sBAAQ,WAAU,QAAlB,EAA2B,SAAS,KAAKG,QAAzC;AAAA;AAAA,iBADJ;AAEI;AAAA;AAAA,sBAAQ,WAAU,QAAlB,EAA2B,SAAS,KAAKC,WAAzC;AAAA;AAAA;AAFJ,aADJ;AAMH;;AAEDD,mBAAW;AACPE,qBAASL,MAAT,CACI,oBAAC,QAAD,IAAU,MAAMJ,MAAhB,GADJ,EAEIU,EAAE,iBAAF,EAAqB,CAArB,CAFJ;AAIH;;AAEDF,sBAAc;AACVE,cAAEC,IAAF,CAAO;AACHC,wBAAQ,KADL;AAEHd,qBAAKA,GAFF;AAGHC,yBAASA,OAHN;AAIHc,yBAAS,UAAUA,OAAV,EAAmB;AACxBA,8BAAUA,QAAQC,IAAR,CAAa,UAAUC,KAAV,EAAiBC,KAAjB,EAAwB;AAC3C,4BAAIC,QAAQF,MAAMG,IAAN,CAAWC,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAAZ;AACA,4BAAIC,UAAUL,MAAMG,IAAN,CAAWC,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAAd;;AAEA,4BAAIE,QAAQL,MAAME,IAAN,CAAWC,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAAZ;AACA,4BAAIG,UAAUN,MAAME,IAAN,CAAWC,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAAd;;AAEA,4BAAII,QAAQC,OAAOP,MAAME,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAP,CAAZ;AACA,4BAAIM,WAAWD,OAAOP,MAAME,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAP,CAAf;;AAEA,4BAAIO,QAAQF,OAAOH,MAAMF,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAP,CAAZ;AACA,4BAAIQ,WAAWH,OAAOH,MAAMF,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAP,CAAf;;AAEA,4BAAIS,SAASR,QAAQS,aAAR,CAAsBP,OAAtB,CAAb;;AAEA,4BAAIM,UAAU,CAAd,EAAiB;AACbA,qCAASL,QAAQG,KAAjB;AACH;;AAED,4BAAIE,UAAU,CAAd,EAAiB;AACbA,qCAASH,WAAWE,QAApB;AACH;;AAED,+BAAOC,MAAP;AACH,qBAxBS,CAAV;;AA0BAnB,6BAASL,MAAT,CACI,oBAAC,WAAD,IAAa,SAASS,OAAtB,GADJ,EAEIH,EAAE,iBAAF,EAAqB,CAArB,CAFJ;AAIH,iBAnCE;AAoCHoB,uBAAO,UAAUA,KAAV,EAAiB;AACpBC,4BAAQC,GAAR,CAAYF,KAAZ;AACH;AAtCE,aAAP;AAwCH;AA1DsC;;AA6D3C,UAAMG,QAAN,SAAuB/B,MAAMC,SAA7B,CAAuC;AACnCC,iBAAS;AACL,mBACI;AAAA;AAAA;AACI;AAAA;AAAA;AACI;AAAA;AAAA;AACI;AAAA;AAAA;AAAA;AAAA,yBADJ;AAEI;AAAA;AAAA;AAAA;AAAA,yBAFJ;AAGI;AAAA;AAAA;AAAA;AAAA,yBAHJ;AAII;AAAA;AAAA;AAAA;AAAA,yBAJJ;AAKI;AAAA;AAAA;AAAA;AAAA,yBALJ;AAMI;AAAA;AAAA;AAAA;AAAA,yBANJ;AAOI;AAAA;AAAA;AAAA;AAAA;AAPJ,qBADJ;AAWQ,yBAAK8B,KAAL,CAAWC,IAAX,CAAgBC,OAAhB,CAAwB,UAAUC,GAAV,EAAeC,KAAf,EAAsB;AAC1C,+BACI;AAAA;AAAA,8BAAI,KAAKA,KAAT;AACI;AAAA;AAAA;AAAKD,oCAAIE;AAAT,6BADJ;AAEI;AAAA;AAAA;AAAKF,oCAAIG;AAAT,6BAFJ;AAGI;AAAA;AAAA;AAAKH,oCAAInB;AAAT,6BAHJ;AAII;AAAA;AAAA;AAAKmB,oCAAII;AAAT,6BAJJ;AAKI;AAAA;AAAA;AAAKJ,oCAAIK;AAAT,6BALJ;AAMI;AAAA;AAAA;AAAKL,oCAAIM;AAAT,6BANJ;AAOI;AAAA;AAAA;AAAKN,oCAAIO;AAAT;AAPJ,yBADJ;AAWH,qBAZD;AAXR;AADJ,aADJ;AA8BH;AAhCkC;;AAmCvC,UAAMC,WAAN,SAA0B3C,MAAMC,SAAhC,CAA0C;AACtC2C,oBAAYZ,KAAZ,EAAmB;AACf,kBAAMA,KAAN;AACA,iBAAKa,SAAL,GAAiB,KAAKA,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAAjB;AACH;;AAED5C,iBAAS;AACL,gBAAI6C,QAAQ,IAAZ;;AAEA,mBACI;AAAA;AAAA;AACI;AAAA;AAAA;AACI;AAAA;AAAA;AACI;AAAA;AAAA;AAAA;AAAA,yBADJ;AAEI;AAAA;AAAA;AAAA;AAAA,yBAFJ;AAGI;AAAA;AAAA;AAAA;AAAA,yBAHJ;AAII;AAAA;AAAA;AAAA;AAAA,yBAJJ;AAKI;AAAA;AAAA;AAAA;AAAA,yBALJ;AAMI;AAAA;AAAA;AAAA;AAAA,yBANJ;AAOI;AAAA;AAAA;AAAA;AAAA,yBAPJ;AAQI;AAAA;AAAA;AAAA;AAAA,yBARJ;AASI;AAAA;AAAA;AAAA;AAAA,yBATJ;AAUI;AAAA;AAAA;AAAA;AAAA;AAVJ,qBADJ;AAcQ,yBAAKf,KAAL,CAAWgB,OAAX,CAAmBC,GAAnB,CAAuB,UAAUC,KAAV,EAAiBd,KAAjB,EAAwB;AAC3C,4BAAIe,SAAS,KAAb;;AAEArD,+BAAOoC,OAAP,CAAe,UAAUkB,KAAV,EAAiB;AAC5B,gCAAIA,MAAMC,EAAN,IAAYH,MAAMG,EAAtB,EAA0B;AACtBF,yCAAS,IAAT;AACH;AACJ,yBAJD;;AAMA,+BACI;AAAA;AAAA,8BAAI,KAAKf,KAAT;AACI;AAAA;AAAA,kCAAI,IAAI,WAAWc,MAAMG,EAAzB;AAA8BH,sCAAMG;AAApC,6BADJ;AAEI;AAAA;AAAA,kCAAI,IAAI,WAAWH,MAAMG,EAAjB,GAAsB,OAA9B;AAAwCH,sCAAMI;AAA9C,6BAFJ;AAGI;AAAA;AAAA,kCAAI,IAAI,WAAWJ,MAAMG,EAAjB,GAAsB,OAA9B;AAAwCH,sCAAMK;AAA9C,6BAHJ;AAII;AAAA;AAAA,kCAAI,IAAI,WAAWL,MAAMG,EAAjB,GAAsB,OAA9B;AAAwCH,sCAAMlC;AAA9C,6BAJJ;AAKI;AAAA;AAAA,kCAAI,IAAI,WAAWkC,MAAMG,EAAjB,GAAsB,MAA9B;AAAuCH,sCAAMM,KAAN,CAAY,GAAZ;AAAvC,6BALJ;AAMI;AAAA;AAAA,kCAAI,IAAI,WAAWN,MAAMG,EAAjB,GAAsB,OAA9B;AAAwCH,sCAAMM,KAAN,CAAY,GAAZ;AAAxC,6BANJ;AAOI;AAAA;AAAA,kCAAI,IAAI,WAAWN,MAAMG,EAAjB,GAAsB,OAA9B;AAAwCH,sCAAMM,KAAN,CAAY,GAAZ;AAAxC,6BAPJ;AAQI;AAAA;AAAA,kCAAI,IAAI,WAAWN,MAAMG,EAAjB,GAAsB,MAA9B;AAEQF,0CAAU,IAAV,GACM,+BAAO,MAAK,QAAZ,EAAqB,KAAI,GAAzB,EAA6B,KAAI,SAAjC,EAA2C,cAA3C,GADN,GAEM,+BAAO,MAAK,QAAZ,EAAqB,KAAI,GAAzB,EAA6B,KAAI,SAAjC;AAJd,6BARJ;AAeI;AAAA;AAAA,kCAAI,IAAI,WAAWD,MAAMG,EAAjB,GAAsB,WAA9B;AAEQF,0CAAU,IAAV,GACQ,gCAAQ,cAAR,GADR,GAEQ;AAAA;AAAA;AACI;AAAA;AAAA;AAAA;AAAA,qCADJ;AAEI;AAAA;AAAA;AAAA;AAAA,qCAFJ;AAGI;AAAA;AAAA;AAAA;AAAA;AAHJ;AAJhB,6BAfJ;AA0BI;AAAA;AAAA,kCAAI,IAAI,WAAWD,MAAMG,EAAjB,GAAsB,SAA9B;AAEQF,0CAAU,IAAV,GACM;AAAA;AAAA,sCAAQ,cAAR;AAAA;AAAA,iCADN,GAEM;AAAA;AAAA,sCAAQ,SAASJ,MAAMF,SAAvB;AAAA;AAAA;AAJd;AA1BJ,yBADJ;AAoCH,qBA7CD;AAdR;AADJ,aADJ;AAkEH;;AAEDA,kBAAUY,KAAV,EAAiB;AACb,gBAAIC,YAAYpC,OAAOd,EAAEiD,MAAME,MAAR,EAAgBC,MAAhB,GAAyBC,IAAzB,CAA8B,IAA9B,EAAoCC,OAApC,CAA4C,QAA5C,EAAsD,EAAtD,EAA0DA,OAA1D,CAAkE,SAAlE,EAA6E,EAA7E,CAAP,CAAhB;AACA,gBAAIC,QAAQzC,OAAOd,EAAE,YAAYkD,SAAZ,GAAwB,YAA1B,EAAwCM,GAAxC,EAAP,CAAZ;AACAxD,cAAE,YAAYkD,SAAZ,GAAwB,YAA1B,EAAwCM,GAAxC,CAA4C,EAA5C;AACA,gBAAIzB,UAAU/B,EAAE,YAAYkD,SAAZ,GAAwB,kCAA1B,EAA8DO,IAA9D,GAAqEC,QAArE,GAAgFC,WAAhF,EAAd;;AAEA,gBAAIX,QAAQlC,OAAOd,EAAE,YAAYkD,SAAZ,GAAwB,GAAxB,GAA8BnB,OAAhC,EAAyC0B,IAAzC,EAAP,CAAZ;;AAEA,gBAAI5B,WAAW7B,EAAE,YAAYkD,SAAZ,GAAwB,OAA1B,EAAmCO,IAAnC,EAAf;AACA,gBAAI3B,WAAW9B,EAAE,YAAYkD,SAAZ,GAAwB,OAA1B,EAAmCO,IAAnC,EAAf;AACA,gBAAIjD,OAAOR,EAAE,YAAYkD,SAAZ,GAAwB,OAA1B,EAAmCO,IAAnC,EAAX;;AAEA,gBAAI9B,MAAM;AACNkB,oBAAIK,SADE;AAENrB,0BAAUA,QAFJ;AAGNC,0BAAUA,QAHJ;AAINtB,sBAAMA,IAJA;AAKNuB,yBAASA,OALH;AAMNC,0BAAUgB,KANJ;AAONf,0BAAUsB,KAPJ;AAQNrB,8BAAc,CAACc,QAAQO,KAAT,EAAgBK,OAAhB,CAAwB,CAAxB;AARR,aAAV;;AAWAtE,mBAAOuE,IAAP,CAAYlC,GAAZ;;AAEA,gBAAImC,YAAY,KAAKtC,KAAL,CAAWgB,OAA3B;;AAEAzC,qBAASL,MAAT,CACI,oBAAC,WAAD,IAAa,SAASoE,SAAtB,GADJ,EAEI9D,EAAE,iBAAF,EAAqB,CAArB,CAFJ;AAIH;AA5GqC;;AA+G1C,UAAM+D,aAAN,SAA4BvE,MAAMC,SAAlC,CAA4C;AACxCC,iBAAS;AACL,mBACI,6BAAK,WAAU,gBAAf,GADJ;AAIH;AANuC;;AAS5C,WAAO;AACHH,eADG;AAEHI,kBAFG;AAGHC,oBAHG;AAIHmE;AAJG,KAAP;AAMH;;AAED,IAAIC,aAAa7E,OAAjB;;AAEAY,SAASL,MAAT,CACI,oBAAC,UAAD,CAAY,OAAZ,OADJ,EAEIM,EAAE,MAAF,EAAU,CAAV,CAFJ","file":"script_reactjs.js","sourcesContent":["function solve() {\r\n    let url = \"https://baas.kinvey.com/appdata/kid_BJe588Szx/football-matches\";\r\n    let headers = {\r\n        \"Authorization\": \"Basic Z3Vlc3Q6Z3Vlc3Q=\",\r\n        \"Content-Type\": \"application/json\"\r\n    };\r\n\r\n    let myBets = [];\r\n\r\n    class AppView extends React.Component {\r\n        render() {\r\n            return (\r\n                <div className=\"wrapper\">\r\n                    <HeaderView />\r\n                    <ButtonHolder />\r\n                    <ContentHolder />\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    class HeaderView extends React.Component {\r\n        render() {\r\n            return (\r\n                <header>\r\n                    <div>Dollar Football</div>\r\n                </header>\r\n            );\r\n        }\r\n    }\r\n\r\n    class ButtonHolder extends React.Component {\r\n        render() {\r\n            return (\r\n                <div className=\"button-holder\">\r\n                    <button className=\"button\" onClick={this.showBets}>My Bets</button>\r\n                    <button className=\"button\" onClick={this.showMatches}>Matches</button>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        showBets() {\r\n            ReactDOM.render(\r\n                <BetsView bets={myBets}/>,\r\n                $('.content-holder')[0]\r\n            );\r\n        }\r\n\r\n        showMatches() {\r\n            $.ajax({\r\n                method: 'GET',\r\n                url: url,\r\n                headers: headers,\r\n                success: function (success) {\r\n                    success = success.sort(function (elem1, elem2) {\r\n                        let time1 = elem1.time.split(\" \")[0];\r\n                        let format1 = elem1.time.split(\" \")[1];\r\n\r\n                        let time2 = elem2.time.split(\" \")[0];\r\n                        let format2 = elem2.time.split(\" \")[1];\r\n\r\n                        let hour1 = Number(time1.split(\":\")[0]);\r\n                        let minutes1 = Number(time1.split(\":\")[1]);\r\n\r\n                        let hour2 = Number(time2.split(\":\")[0]);\r\n                        let minutes2 = Number(time2.split(\":\")[1]);\r\n\r\n                        let result = format1.localeCompare(format2);\r\n\r\n                        if (result == 0) {\r\n                            result = hour1 - hour2;\r\n                        }\r\n\r\n                        if (result == 0) {\r\n                            result = minutes1 - minutes2;\r\n                        }\r\n\r\n                        return result;\r\n                    });\r\n\r\n                    ReactDOM.render(\r\n                        <MatchesView matches={success}/>,\r\n                        $('.content-holder')[0]\r\n                    );\r\n                },\r\n                error: function (error) {\r\n                    console.log(error);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    class BetsView extends React.Component {\r\n        render() {\r\n            return (\r\n                <table>\r\n                    <tbody>\r\n                        <tr>\r\n                            <th>Home Team</th>\r\n                            <th>Away Team</th>\r\n                            <th>Start</th>\r\n                            <th>Bet On</th>\r\n                            <th>Ratio</th>\r\n                            <th>Value</th>\r\n                            <th>Estimated Winnings</th>\r\n                        </tr>\r\n                        {\r\n                            this.props.bets.forEach(function (bet, index) {\r\n                                return (\r\n                                    <tr key={index}>\r\n                                        <td>{bet.homeTeam}</td>\r\n                                        <td>{bet.awayTeam}</td>\r\n                                        <td>{bet.time}</td>\r\n                                        <td>{bet.betType}</td>\r\n                                        <td>{bet.betRatio}</td>\r\n                                        <td>{bet.betValue}</td>\r\n                                        <td>{bet.estimatedWin}</td>\r\n                                    </tr>\r\n                                );\r\n                            })\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n            );\r\n        }\r\n    }\r\n\r\n    class MatchesView extends React.Component {\r\n        constructor(props) {\r\n            super(props);\r\n            this.handleBet = this.handleBet.bind(this);\r\n        }\r\n\r\n        render() {\r\n            let _that = this;\r\n\r\n            return (\r\n                <table>\r\n                    <tbody>\r\n                        <tr>\r\n                            <th>Id</th>\r\n                            <th>Home Team</th>\r\n                            <th>Away Team</th>\r\n                            <th>Start</th>\r\n                            <th>Win</th>\r\n                            <th>Draw</th>\r\n                            <th>Lose</th>\r\n                            <th>Bet</th>\r\n                            <th>Bet On</th>\r\n                            <th>Submit</th>\r\n                        </tr>\r\n                        {\r\n                            this.props.matches.map(function (match, index) {\r\n                                let hasBet = false;\r\n\r\n                                myBets.forEach(function (myBet) {\r\n                                    if (myBet.id == match.id) {\r\n                                        hasBet = true;\r\n                                    }\r\n                                });\r\n\r\n                                return (\r\n                                    <tr key={index}>\r\n                                        <td id={\"match-\" + match.id}>{match.id}</td>\r\n                                        <td id={\"match-\" + match.id + \"-home\"}>{match.home}</td>\r\n                                        <td id={\"match-\" + match.id + \"-away\"}>{match.away}</td>\r\n                                        <td id={\"match-\" + match.id + \"-time\"}>{match.time}</td>\r\n                                        <td id={\"match-\" + match.id + \"-win\"}>{match.ratio[\"1\"]}</td>\r\n                                        <td id={\"match-\" + match.id + \"-draw\"}>{match.ratio[\"x\"]}</td>\r\n                                        <td id={\"match-\" + match.id + \"-lose\"}>{match.ratio[\"2\"]}</td>\r\n                                        <td id={\"match-\" + match.id + \"-bet\"}>\r\n                                            {\r\n                                                hasBet == true\r\n                                                    ? <input type=\"number\" min=\"1\" max=\"1000000\" disabled/>\r\n                                                    : <input type=\"number\" min=\"1\" max=\"1000000\"/>\r\n                                            }\r\n                                        </td>\r\n                                        <td id={\"match-\" + match.id + \"-bet-type\"}>\r\n                                            {\r\n                                                hasBet == true\r\n                                                    ?   <select disabled></select>\r\n                                                    :   <select>\r\n                                                            <option>Win</option>\r\n                                                            <option>Draw</option>\r\n                                                            <option>Lose</option>\r\n                                                        </select>\r\n                                            }\r\n                                        </td>\r\n                                        <td id={\"match-\" + match.id + \"-button\"}>\r\n                                            {\r\n                                                hasBet == true\r\n                                                    ? <button disabled>Bet</button>\r\n                                                    : <button onClick={_that.handleBet}>Bet</button>\r\n                                            }\r\n                                        </td>\r\n                                    </tr>\r\n                                );\r\n                            })\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n            );\r\n        }\r\n\r\n        handleBet(event) {\r\n            let currentId = Number($(event.target).parent().attr('id').replace('match-', '').replace('-button', ''));\r\n            let value = Number($('#match-' + currentId + '-bet input').val());\r\n            $('#match-' + currentId + '-bet input').val('');\r\n            let betType = $('#match-' + currentId + '-bet-type select option:selected').text().toString().toLowerCase();\r\n\r\n            let ratio = Number($('#match-' + currentId + '-' + betType).text());\r\n\r\n            let homeTeam = $('#match-' + currentId + '-home').text();\r\n            let awayTeam = $('#match-' + currentId + '-away').text();\r\n            let time = $('#match-' + currentId + '-time').text();\r\n\r\n            let bet = {\r\n                id: currentId,\r\n                homeTeam: homeTeam,\r\n                awayTeam: awayTeam,\r\n                time: time,\r\n                betType: betType,\r\n                betRatio: ratio,\r\n                betValue: value,\r\n                estimatedWin: (ratio * value).toFixed(2)\r\n            };\r\n\r\n            myBets.push(bet);\r\n\r\n            let myMatches = this.props.matches;\r\n\r\n            ReactDOM.render(\r\n                <MatchesView matches={myMatches} />,\r\n                $('.content-holder')[0]\r\n            );\r\n        }\r\n    }\r\n\r\n    class ContentHolder extends React.Component {\r\n        render() {\r\n            return (\r\n                <div className=\"content-holder\">\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    return {\r\n        AppView,\r\n        HeaderView,\r\n        ButtonHolder,\r\n        ContentHolder\r\n    }\r\n}\r\n\r\nlet components = solve();\r\n\r\nReactDOM.render(\r\n    <components.AppView />,\r\n    $('.app')[0]\r\n);"]}